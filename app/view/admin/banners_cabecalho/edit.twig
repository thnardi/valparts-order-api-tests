{% block stylesheets %}
{% endblock %}
{% extends "admin/layout.twig" %}
{% block html_title %}Banners Cabeçalho - Administração - {{ parent() }}{% endblock %}
{% set nav_active = 'banners_cabecalho' %}
{% set subnav_active = 'banners_cabecalho' %}
{% block breadcrumbs %}
<ol class="breadcrumb">
  <li><a href="{{ base_url() }}/admin">Início</a></li>
  <li><a href="{{ base_url() }}/admin/banners_cabecalho">Banners Cabeçalho</a></li>
  <li  class="active">{{ banner.name }}</li>
</ol>
{% endblock %}
{% block content %}

<form role="form" data-toggle="validator" action="{{ base_url() }}/admin/banners_cabecalho/update" method="POST"  enctype="multipart/form-data">
  <div class="panel panel-default">
    <div class="panel-heading" data-background-color="blue">
      <p class="panel-title">Editar Banner</p>
    </div>
    <div class="panel-body">
      <div class="row">
        <div class="col-xs-12 col-sm-3">
          <div class="form-group">
            <label for="inputName">Nome</label>
            <input type="text" class="form-control" id="inputName" name="name" placeholder="Nome" value="{{ banner.name }}" required>
            <input type="hidden" name="id" value="{{ banner.id }}">
          </div>
        </div>
        {# <div class="col-xs-12 col-sm-3">
          <div class="form-group">
            <label for="inputStatus">Posição do Título</label>
            <select class="form-control" id="title_position" name="title_position">
              <option value="1" {% if banner.title_position == 1 %} selected {% endif %}>Esquerda</option>
              <option value="2" {% if banner.title_position == 2 %} selected {% endif %}>Centro</option>
              <option value="3" {% if banner.title_position == 3 %} selected {% endif %}>Direita</option>
            </select>
          </div> #}

        <!-- RIGHT SIDE !-->

      </div>
      <div class="row">
        {% for language in languages %}
          <div class="col-xs-12 col-sm-6">
            <!-- img_featured !-->
            <div class="panel panel-default">
              <div class="panel-heading text-center">
                Imagem de detaque - <img src="{{ base_url() }}/{{ language.img_featured }}" style="width:30px;"> {{ language.name }} ({{ language.slug }})
              </div>
              <div class="panel-body">
                <img id="img_featured_show-{{ language.slug }}" src="{{ base_url() }}/{% for key, ban in banner.img_featured if key == language.slug %}{{ ban }}{% endfor %}" alt="Imagem de destaque" class="img-responsive" style="max-height: 300px; width: auto; margin: 0 auto;">
              </div>
              <div class="panel-footer">
                <p class="text-center" >Tamanho Máximo: 1Mb</p>
                <input id="img_featured-{{ language.slug }}" type="file" class="btn btn-default btn-lg" style="display: block; margin: 0 auto; position:relative; max-width: 100%;" name="img_featured-{{ language.slug }}" value="{% for key, ban in banner.img_featured if key == language.slug %}{{ ban }}{% endfor %}"></input>
                <input id="img_featured_old{{ language.slug }}" type="hidden" class="btn btn-default btn-lg" style="display: block; margin: 0 auto; position:relative; max-width: 100%;" name="img_featured_old-{{ language.slug }}" value="{% for key, ban in banner.img_featured if key == language.slug %}{{ ban }}{% endfor %}"></input>
              </div>
            </div>
            <!-- img_featured END !-->
          </div>
        {% endfor %}
      </div>
      <div class="row">
        {% for language in languages %}
          <div class="col-xs-12 col-sm-6">
            <!-- img_mobile !-->
            <div class="panel panel-default">
              <div class="panel-heading text-center">
                Imagem de detaque Mobile - <img src="{{ base_url() }}/{{ language.img_featured }}" style="width:30px;"> {{ language.name }} ({{ language.slug }})
              </div>
              <div class="panel-body">
                <img id="img_mobile_show-{{ language.slug }}" src="{{ base_url() }}/{% for key, ban in banner.img_mobile if key == language.slug %}{{ ban }}{% endfor %}" alt="Imagem de destaque" class="img-responsive" style="max-height: 300px; width: auto; margin: 0 auto;">
              </div>
              <div class="panel-footer">
                <p class="text-center" >Tamanho Máximo: 1Mb</p>
                <input id="img_mobile-{{ language.slug }}" type="file" class="btn btn-default btn-lg" style="display: block; margin: 0 auto; position:relative; max-width: 100%;" name="img_mobile-{{ language.slug }}" value="{% for key, ban in banner.img_mobile if key == language.slug %}{{ ban }}{% endfor %}"></input>
                <input id="img_mobile_old{{ language.slug }}" type="hidden" class="btn btn-default btn-lg" style="display: block; margin: 0 auto; position:relative; max-width: 100%;" name="img_mobile_old-{{ language.slug }}" value="{% for key, ban in banner.img_mobile if key == language.slug %}{{ ban }}{% endfor %}"></input>
              </div>
            </div>
            <!-- img_mobile END !-->
          </div>
        {% endfor %}
      </div>
      <!-- RIGHT SIDE !-->
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 col-sm-6">
      <div class="form-group">
        <button type="submit" class="btn btn-success">Editar</button>
      </div>
    </div>
  </div>
</form>


{% endblock %}
{% block javascripts %}
<script type="text/javascript">
  {% for language in languages %}
  var imagem_{{ language.slug }} = $("#img_featured_show-{{ language.slug }}");
  var arquivo_{{ language.slug }} = $("#img_featured-{{ language.slug }}");
  arquivo_{{ language.slug }}.on("change", function (){
    if (arquivo_{{ language.slug }}[0].files.length == 0)
    return false;
    var file_{{ language.slug }} = arquivo_{{ language.slug }}[0].files[0];
    var url_{{ language.slug }} = URL.createObjectURL(file_{{ language.slug }});
    imagem_{{ language.slug }}.attr("src", url_{{ language.slug }});
    imagem_{{ language.slug }}.attr("title", file_{{ language.slug }}.name);
    console.log(arquivo_{{ language.slug }}[0].files[0]);
  });
  var imagem_mobile_{{ language.slug }} = $("#img_mobile_show-{{ language.slug }}");
  var arquivo_mobile_{{ language.slug }} = $("#img_mobile-{{ language.slug }}");
  arquivo_mobile_{{ language.slug }}.on("change", function (){
    if (arquivo_mobile_{{ language.slug }}[0].files.length == 0)
    return false;
    var file_mobile_{{ language.slug }} = arquivo_mobile_{{ language.slug }}[0].files[0];
    var url_mobile_{{ language.slug }} = URL.createObjectURL(file_mobile_{{ language.slug }});
    imagem_mobile_{{ language.slug }}.attr("src", url_mobile_{{ language.slug }});
    imagem_mobile_{{ language.slug }}.attr("title", file_mobile_{{ language.slug }}.name);
    console.log(arquivo_mobile_{{ language.slug }}[0].files[0]);
  });
{% endfor %}
</script>

{% endblock %}
